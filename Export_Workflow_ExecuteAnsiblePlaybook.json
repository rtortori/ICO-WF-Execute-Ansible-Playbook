[{"Body":{"ClassId":"workflow.CustomDataTypeDefinition","CompositeType":true,"Description":"Capture a key value pair","Label":"Ansible Variables","Name":"AnsibleVariable","ObjectType":"workflow.CustomDataTypeDefinition","ParameterSet":[],"Properties":{"ObjectType":"workflow.CustomDataTypeProperties"},"SharedScope":"user","Tags":[{"Key":"owner","Value":"rtortori"}],"TypeDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Key is a string datatype and is the name for the property.","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Ansible Variable","Name":"AnsibleVariable","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"Value is a string","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Value","Name":"Value","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}]},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/CustomDataTypeDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.TaskDefinition","DefaultVersion":true,"Description":"Executes Ansible Playbook against the given endpoint. This task can be executed on targets added as Ansible Endpoint in Intersight.\n","Label":"Invoke Ansible Playbook","Name":"InvokeAnsiblePlaybook","ObjectType":"workflow.TaskDefinition","Properties":{"ExternalMeta":true,"InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The Ansible playbooks are executed on this Target. Ansible playbooks can be run only on targets that are added as Ansible Endpoint target in Intersight and are in the connected state. The Ansible Control node must have all the prerequisites required to run the Ansible playbooks.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Ansible Controller","Name":"AnsibleController","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=TargetType eq AnsibleEndpoint and Status eq Connected","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The path of the Ansible playbook that resides on the Ansible Endpoint target.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Playbook Path","Name":"PlaybookPath","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The path of the host inventory file that resides on the Ansible Endpoint target or the comma separated list of hosts on which the Ansible playbook is to be run. Make sure to suffix a comma when the list of hosts is provided as input, even if the list has only one value. e.g.: root@127.0.0.1,\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host Inventory","Name":"HostInventory","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The command timeout in seconds for the execution of the Ansible playbook against the given endpoint. The default command timeout is 600 seconds. Range is from 10 to 7200 seconds.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Command Timeout","Name":"Timeout","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":7200,"Min":10,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The command line arguments for running the Ansible playbook against the given endpoint.\nEscape character backslash(\\) needs to be used when the command line arguments contain double quotes(\") in them.\n\nThe following command line options are not supported by the Ansible playbook task.\n1. -vvv\n2. -vvvv\n3. -k, -K\n4. -c\n5. --connection\n6. --sftp-extra-args\n7. --scp-extra-args\n8. --ask-vault-password\n9. --step\n\nFor more information on the Ansible playbook documentation, see\nhttps://docs.ansible.com/ansible/latest/cli/ansible-playbook.html for the list of other supported command line options.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Command Line Arguments","Name":"CommandLineArguments","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"ObjectType":"workflow.Properties","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The exit code after running the Ansible playbook against the given endpoint.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Exit Code","Name":"ExitCode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The summary after running the Ansible playbook against the given endpoint. Data type is JSON.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Execution Summary","Name":"ExecutionSummary","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The Ansible log path after running the Ansible playbook against the given endpoint.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Execution Log Path","Name":"ExecutionLogPath","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"RetryDelay":60,"RetryPolicy":"Fixed","SupportStatus":"Supported","Timeout":7200,"TimeoutPolicy":"Timeout"},"RollbackTasks":[],"SecurePropAccess":true,"SharedScope":"shared","Tags":[{"Key":"category","Value":"Executors"}],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/TaskDefinitions","Verb":"POST"},{"Body":{"ClassId":"workflow.WorkflowDefinition","DefaultVersion":true,"Description":"Uses the Ansible Executor to run playbooks against one or more targets, with Variables Data Type Support","InputDefinition":[{"CustomDataTypeProperties":{"CatalogMoid":"shared","ObjectType":"workflow.CustomDataProperty"},"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The Ansible playbooks are executed on this Target. Ansible playbooks can be run only on targets that are added as Ansible Endpoint target in Intersight and are in the connected state. The Ansible Control node must have all the prerequisites required to run the Ansible playbooks.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Ansible Controller","Name":"AnsibleController","ObjectType":"workflow.TargetDataType","Properties":[{"DisplayAttributes":["Name","TargetType"],"ObjectType":"workflow.TargetProperty","Selector":"/api/v1/asset/Targets?$filter=TargetType eq AnsibleEndpoint and Status eq Connected","SelectorProperty":{"Method":"GET","ObjectType":"workflow.SelectorProperty"},"SupportedObjects":["asset.Target"]}],"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The path of the Ansible playbook that resides on the Ansible Endpoint target.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Playbook Path","Name":"PlaybookPath","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The path of the host inventory file that resides on the Ansible Endpoint target or the comma separated list of hosts on which the Ansible playbook is to be run. Make sure to suffix a comma when the list of hosts is provided as input, even if the list has only one value. e.g.: root@127.0.0.1,\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Host Inventory","Name":"HostInventory","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"},"Required":true},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The command timeout in seconds for the execution of the Ansible playbook against the given endpoint. The default command timeout is 600 seconds. Range is from 10 to 7200 seconds.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Command Timeout","Name":"Timeout","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"Max":7200,"Min":10,"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"integer"}},{"ArrayItemType":{"ObjectType":"workflow.CustomArrayItem","Properties":{"CatalogMoid":"user","CustomDataTypeName":"AnsibleVariable","ObjectType":"workflow.CustomDataProperty"}},"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Ansible Variables","Name":"ansvars","ObjectType":"workflow.ArrayDataType"},{"Default":{"ObjectType":"workflow.DefaultValue"},"DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Command Line Arguments","Name":"clargs","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"InputParameterSet":[],"Label":"Execute Ansible Playbook","Name":"ExecuteAnsiblePlaybook","ObjectType":"workflow.WorkflowDefinition","OutputDefinition":[{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The exit code after running the Ansible playbook against the given endpoint.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Exit Code","Name":"ExitCode","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The summary after running the Ansible playbook against the given endpoint. Data type is JSON.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Execution Summary","Name":"ExecutionSummary","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"json"}},{"Default":{"ObjectType":"workflow.DefaultValue"},"Description":"The Ansible log path after running the Ansible playbook against the given endpoint.\n","DisplayMeta":{"InventorySelector":true,"ObjectType":"workflow.DisplayMeta","WidgetType":"None"},"Label":"Execution Log Path","Name":"ExecutionLogPath","ObjectType":"workflow.PrimitiveDataType","Properties":{"Constraints":{"EnumList":[],"ObjectType":"workflow.Constraints"},"InventorySelector":[],"ObjectType":"workflow.PrimitiveDataProperty","Type":"string"}}],"OutputParameters":{"ExecutionLogPath":"${InvokeAnsiblePlaybook1.output.ExecutionLogPath}","ExecutionSummary":"${InvokeAnsiblePlaybook1.output.ExecutionSummary}","ExitCode":"${InvokeAnsiblePlaybook1.output.ExitCode}"},"Properties":{"EnableDebug":true,"ExternalMeta":true,"ObjectType":"workflow.WorkflowProperties","SupportStatus":"Supported"},"SharedScope":"user","Tags":[{"Key":"category","Value":"Applications"}],"Tasks":[{"Name":"StartTask","NextTask":"InvokeAnsiblePlaybook1","ObjectType":"workflow.StartTask"},{"Name":"SuccessEndTask","ObjectType":"workflow.SuccessEndTask"},{"Name":"FailureEndTask","ObjectType":"workflow.FailureEndTask"},{"CatalogMoid":"shared","Description":"Executes Ansible Playbook against the given endpoint. This task can be executed on targets added as Ansible Endpoint in Intersight.\n","InputParameters":{"AnsibleController":"${workflow.input.AnsibleController}","CommandLineArguments":"{{if index .global.workflow.input \"clargs\"}}{{.global.workflow.input.clargs}} {{end}}{{if len .global.workflow.input.ansvars}}-e \\\"{{with $x := .global.workflow.input.ansvars}}{{ range $index, $element := $x}}{{if $index}} {{end}}{{$element.AnsibleVariable}}={{$element.Value}}{{end}}{{end}}\\\"{{end}}","HostInventory":"${workflow.input.HostInventory}","PlaybookPath":"${workflow.input.PlaybookPath}","Timeout":"${workflow.input.Timeout}"},"Label":"Invoke Ansible Playbook","Name":"InvokeAnsiblePlaybook1","ObjectType":"workflow.WorkerTask","OnSuccess":"SuccessEndTask","TaskDefinitionName":"InvokeAnsiblePlaybook","Version":1}],"UiInputFilters":[],"UiRenderingData":{"Positions":[{"Name":"StartTask","X":10,"Y":18},{"Name":"SuccessEndTask","X":10,"Y":882.0908813476562},{"Name":"FailureEndTask","X":152,"Y":882.0908813476562},{"Name":"InvokeAnsiblePlaybook1","X":183.33025178143018,"Y":90.6488957319324}]},"VariableDefinition":[],"Version":1},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/WorkflowDefinitions","Verb":"POST"},{"Body":{"Batch":[{"ContentType":"text","FileTransferToRemote":{"ObjectType":"workflow.FileTransfer"},"Label":"Start Ansible Session","MessageType":"NewSession","Name":"StartAnsibleSession","ObjectType":"workflow.SshSession","SshConfiguration":{"ObjectType":"workflow.SshConfig"}},{"ContentType":"text","FileTransferToRemote":{"ObjectType":"workflow.FileTransfer"},"Label":"Check Ansible Playbook Syntax","MessageType":"ExecuteCommand","Name":"CheckAnsiblePlaybookSyntax","ObjectType":"workflow.SshSession","SshCommand":{"Command":"ansible-playbook -i {{.global.task.input.HostInventory}} {{.global.task.input.PlaybookPath}} {{.global.task.input.CommandLineArguments}} -v --syntax-check\n","CommandType":"NonInteractiveCmd"},"SshConfiguration":{"ObjectType":"workflow.SshConfig"},"SshOpTimeout":"120"},{"ContentType":"text","FileTransferToRemote":{"ObjectType":"workflow.FileTransfer"},"Label":"Prepare Ansible Execution Env","MessageType":"ExecuteCommand","Name":"PrepareAnsibleExecutionEnv","ObjectType":"workflow.SshSession","ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","IsDelimiter":false,"IsNextCaptureOnSameLine":false,"ItemType":"simple","Name":"AnsibleLogPath","ObjectType":"content.TextParameter","Path":".*","RegexLine":"${AnsibleLogPath}","Secure":false,"Type":"simple"}],"Types":[]},"SshCommand":{"Command":"env ANSIBLE_LOG_PATH=$(dirname {{.global.task.input.PlaybookPath}})/ansible_$(date \"+%F_%H-%M-%S\").log sh -c 'touch $ANSIBLE_LOG_PATH; echo $ANSIBLE_LOG_PATH'\n","CommandType":"NonInteractiveCmd"},"SshConfiguration":{"ObjectType":"workflow.SshConfig"},"SshOpTimeout":"120"},{"ContentType":"text","FileTransferToRemote":{"ObjectType":"workflow.FileTransfer"},"Label":"Invoke Ansible Playbook","MessageType":"ExecuteCommand","Name":"InvokeAnsiblePlaybook","ObjectType":"workflow.SshSession","Outcomes":[{"Condition":"{{- if index .global.InvokeAnsiblePlaybook.output \"AnsibleExecutionSummary\" -}}\n  {{range $key, $value := .global.InvokeAnsiblePlaybook.output.AnsibleExecutionSummary}}\n    {{if ne $value.FailedTasksCount \"0\"}}true{{end}}\n  {{- end -}}\n{{- else -}}\n  false\n{{- end -}}","Error":true,"Message":"Ansible playbook execution failed on one or more nodes.\nPlease refer the execution logs at the below path for more details.\n{{.global.PrepareAnsibleExecutionEnv.output.AnsibleLogPath}}\n","ObjectType":"workflow.Outcome"},{"Condition":"{{- if index .global.InvokeAnsiblePlaybook.output \"AnsibleExecutionSummary\" -}}\n  {{range $key, $value := .global.InvokeAnsiblePlaybook.output.AnsibleExecutionSummary}}\n    {{if ne $value.UnreachableTasksCount \"0\"}}true{{end}}\n  {{- end -}}\n{{- else -}}\n  false\n{{- end -}}","Error":true,"Message":"Unable to establish connectivity from Ansible Controller to one or more worker nodes.\nPlease refer the execution logs at the below path for more details.\n{{.global.PrepareAnsibleExecutionEnv.output.AnsibleLogPath}}\n","ObjectType":"workflow.Outcome"},{"Condition":"{{- if index .global.InvokeAnsiblePlaybook.output \"ExitCode\" -}}\n  {{if ne .global.InvokeAnsiblePlaybook.output.ExitCode 0}}true{{end}}\n{{- end -}}","Error":true,"Message":"Ansible playbook execution failed with non-zero exit code: {{.global.InvokeAnsiblePlaybook.output.ExitCode}}.\n{{- if index .global.InvokeAnsiblePlaybook.output \"CommandExecutionError\" }} Error while executing Ansible playbook command:\n{{.global.InvokeAnsiblePlaybook.output.CommandExecutionError}} {{- end -}}\n","ObjectType":"workflow.Outcome"},{"Condition":"true","Message":"Ansible playbook execution completed. Please refer the execution logs at the below path for more details.\n{{.global.PrepareAnsibleExecutionEnv.output.AnsibleLogPath}}\n","ObjectType":"workflow.Outcome","OutcomeType":"Success"}],"ResponseSpec":{"ErrorParameters":[],"ObjectType":"content.Grammar","Parameters":[{"AcceptSingleValue":false,"ComplexType":"AnsibleExecutionSummary","IsDelimiter":false,"IsNextCaptureOnSameLine":false,"ItemType":"complex","Name":"AnsibleExecutionSummary","ObjectType":"content.TextParameter","Path":"","RegexLine":"PLAY RECAP","Secure":false,"Type":"collection"}],"Types":[{"Name":"AnsibleExecutionSummary","ObjectType":"content.ComplexType","Parameters":[{"AcceptSingleValue":false,"ComplexType":"","IsDelimiter":false,"IsNextCaptureOnSameLine":true,"ItemType":"simple","Name":"Node","ObjectType":"content.TextParameter","Path":".*?","RegexLine":"${Node}\\s+:\\s+ok=\\d+\\s+changed=\\d+\\s+unreachable=\\d+\\s+failed=\\d+.*","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","IsDelimiter":false,"IsNextCaptureOnSameLine":true,"ItemType":"simple","Name":"SuccessTasksCount","ObjectType":"content.TextParameter","Path":"\\d+","RegexLine":".*?\\s+:\\s+ok=${SuccessTasksCount}\\s+changed=\\d+\\s+unreachable=\\d+\\s+failed=\\d+.*","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","IsDelimiter":false,"IsNextCaptureOnSameLine":true,"ItemType":"simple","Name":"ChangedTasksCount","ObjectType":"content.TextParameter","Path":"\\d+","RegexLine":".*?\\s+:\\s+ok=\\d+\\s+changed=${ChangedTasksCount}\\s+unreachable=\\d+\\s+failed=\\d+.*","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","IsDelimiter":false,"IsNextCaptureOnSameLine":true,"ItemType":"simple","Name":"UnreachableTasksCount","ObjectType":"content.TextParameter","Path":"\\d+","RegexLine":".*?\\s+:\\s+ok=\\d+\\s+changed=\\d+\\s+unreachable=${UnreachableTasksCount}\\s+failed=\\d+.*","Secure":false,"Type":"simple"},{"AcceptSingleValue":false,"ComplexType":"","IsDelimiter":false,"IsNextCaptureOnSameLine":false,"ItemType":"simple","Name":"FailedTasksCount","ObjectType":"content.TextParameter","Path":"\\d+","RegexLine":".*?\\s+:\\s+ok=\\d+\\s+changed=\\d+\\s+unreachable=\\d+\\s+failed=${FailedTasksCount}.*","Secure":false,"Type":"simple"}]}]},"SshCommand":{"Command":"env ANSIBLE_LOG_PATH={{.global.PrepareAnsibleExecutionEnv.output.AnsibleLogPath}} ansible-playbook -i {{.global.task.input.HostInventory}} {{.global.task.input.PlaybookPath}} {{.global.task.input.CommandLineArguments}} -v\n","CommandType":"NonInteractiveCmd"},"SshConfiguration":{"ObjectType":"workflow.SshConfig"},"SshOpTimeout":"{{- if index .global.task.input \"Timeout\" -}}\n  {{Itoa .global.task.input.Timeout}}\n{{- end -}}"},{"ContentType":"text","FileTransferToRemote":{"ObjectType":"workflow.FileTransfer"},"Label":"Close Ansible Session","MessageType":"CloseSession","Name":"CloseAnsibleSession","ObjectType":"workflow.SshSession","SshConfiguration":{"ObjectType":"workflow.SshConfig"}}],"CancelAction":[],"ClassId":"workflow.AnsibleBatchExecutor","Constraints":{"ObjectType":"workflow.TaskConstraints"},"Description":"Generic Ansible Batch Task","Name":"GenericAnsibleBatchTask","ObjectType":"workflow.AnsibleBatchExecutor","Output":{"ExecutionLogPath":"{{- if index .global.PrepareAnsibleExecutionEnv.output \"AnsibleLogPath\" -}}\n  {{- .global.PrepareAnsibleExecutionEnv.output.AnsibleLogPath -}}\n{{- end -}}","ExecutionSummary":"{{- if index .global.InvokeAnsiblePlaybook.output \"AnsibleExecutionSummary\" -}}\n  {{- .global.InvokeAnsiblePlaybook.output.AnsibleExecutionSummary | ToJson -}}\n{{- end -}}","ExitCode":"{{.global.InvokeAnsiblePlaybook.output.ExitCode}}"},"SharedScope":"shared","TaskDefinition":{"ObjectType":"workflow.TaskDefinition","Selector":"Name eq \"InvokeAnsiblePlaybook\" and Version eq 1"}},"ClassId":"bulk.RestSubRequest","ObjectType":"bulk.RestSubRequest","TargetMoid":"","Uri":"/v1/workflow/AnsibleBatchExecutors","Verb":"POST"}]